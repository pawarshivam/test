{"version":3,"sources":["./src/app/admin/agendas/agendas.component.ts","./src/app/admin/agendas/agendas.component.html","./src/app/admin/agendas/agendas.module.ts","./src/app/admin/agendas/agenda-play/agenda-play.component.ts","./src/app/admin/agendas/agenda-play/agenda-play.component.html","./src/app/services/agenda.service.ts","./src/app/admin/agendas/agendas-routing.module.ts"],"names":[],"mappings":"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","file":"admin-agendas-agendas-module-es2015.js","sourcesContent":["import { AfterContentInit, Component, OnInit } from '@angular/core';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { BreakPointsService } from '@services/breakpoints.service';\r\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\r\nimport { AgendaService } from '@services/agenda.service';\r\nimport { AgendaModel } from '@models/agenda.model';\r\nimport { AgendaPlayComponent } from '@admin/agendas/agenda-play/agenda-play.component';\r\n\r\n@Component({\r\n  selector: 'app-agendas',\r\n  templateUrl: './agendas.component.html',\r\n  styleUrls: ['./agendas.component.css']\r\n})\r\nexport class AgendasComponent implements OnInit, AfterContentInit {\r\n  // Agendas table\r\n  atdc: string[] = ['id', 'label', 'action'];\r\n  atds: MatTableDataSource<AgendaModel>\r\n    =\r\n    new MatTableDataSource<AgendaModel>([]);\r\n\r\n  constructor(\r\n    private $agenda: AgendaService,\r\n    private $bottomSheet: MatBottomSheet,\r\n    public breakpoints: BreakPointsService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.getAgendas();\r\n  }\r\n\r\n  getAgendas(): void {\r\n    this.$agenda.getAgendas().subscribe(\r\n      (agendas: AgendaModel[]) => {\r\n        this.atds.data = agendas;\r\n      },\r\n    );\r\n  }\r\n\r\n  agendaPlay(agenda: AgendaModel | null): void {\r\n    this.$bottomSheet.open(AgendaPlayComponent, {\r\n      data: {\r\n        agenda,\r\n      }\r\n    });\r\n  }\r\n}\r\n","<div class=\"container-fluid container-cover container-agendas\">\r\n    <div class=\"row\">\r\n        <div class=\"col-12 col-lg-5\">\r\n            <!-- Agendas -->\r\n            <mat-card>\r\n                <mat-card-header>\r\n                    <mat-card-title>Agendas</mat-card-title>\r\n                    <mat-card-subtitle>Puspose of visitor</mat-card-subtitle>\r\n\r\n                    <div class=\"spacer\"></div>\r\n\r\n                    <!-- Add -->\r\n                    <button mat-mini-fab class=\"mat-elevation-z\" (click)=\"agendaPlay(null)\">\r\n                        <img src=\"assets/images/add.svg\">\r\n                    </button>\r\n                </mat-card-header>\r\n\r\n                <mat-card-content>\r\n                    <!-- Table -->\r\n                    <mat-table [dataSource]=\"atds\">\r\n                        <!-- ID Column -->\r\n                        <ng-container matColumnDef=\"id\">\r\n                            <mat-header-cell *matHeaderCellDef mat-sort-header>ID</mat-header-cell>\r\n                            <mat-cell *matCellDef=\"let agenda\">{{agenda.id}}</mat-cell>\r\n                        </ng-container>\r\n\r\n                        <!-- Label Column -->\r\n                        <ng-container matColumnDef=\"label\">\r\n                            <mat-header-cell *matHeaderCellDef mat-sort-header>Label</mat-header-cell>\r\n                            <mat-cell *matCellDef=\"let agenda\">{{agenda.label}}</mat-cell>\r\n                        </ng-container>\r\n\r\n                        <!-- Action Column -->\r\n                        <ng-container matColumnDef=\"action\">\r\n                            <mat-header-cell *matHeaderCellDef mat-sort-header>Action</mat-header-cell>\r\n                            <mat-cell *matCellDef=\"let agenda\">\r\n                                <button mat-icon-button class=\"mat-elevation-z\" (click)=\"agendaPlay(agenda)\">\r\n                                    <img src=\"assets/images/edit.svg\" width=\"18px\">\r\n                                </button>\r\n                            </mat-cell>\r\n                        </ng-container>\r\n\r\n                        <mat-header-row *matHeaderRowDef=\"atdc\"></mat-header-row>\r\n                        <mat-row *matRowDef=\"let row; columns: atdc\"></mat-row>\r\n                    </mat-table>\r\n                </mat-card-content>\r\n\r\n                <mat-card-footer>\r\n                    She said what you know about love?\r\n                </mat-card-footer>\r\n            </mat-card>\r\n        </div>\r\n\r\n        <div class=\"col-12 col-lg-7\">\r\n           <mat-card></mat-card>\r\n        </div>\r\n    </div>\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { AgendasRoutingModule } from '@admin/agendas/agendas-routing.module';\r\nimport { AgendasComponent } from '@admin/agendas/agendas.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTableModule } from '@angular/material/table';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { AgendaPlayComponent } from '@admin/agendas/agenda-play/agenda-play.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [AgendasComponent, AgendaPlayComponent],\r\n  imports: [\r\n    CommonModule,\r\n    AgendasRoutingModule,\r\n    MatCardModule,\r\n    MatTableModule,\r\n    MatButtonModule,\r\n    MatBottomSheetModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    ReactiveFormsModule,\r\n  ]\r\n})\r\nexport class AgendasModule { }\r\n","import { Component, Inject, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { MatBottomSheetRef, MAT_BOTTOM_SHEET_DATA } from '@angular/material/bottom-sheet';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpResponseModel } from '@models/http/response.model';\r\nimport { ConfigService } from '@services/config.service';\r\nimport { AuthenticationService } from '@services/authentication.service';\r\nimport { AgendaService } from '@services/agenda.service';\r\nimport { AgendaModel } from '@models/agenda.model';\r\n\r\n@Component({\r\n  selector: 'app-agenda-play',\r\n  templateUrl: './agenda-play.component.html',\r\n  styleUrls: ['./agenda-play.component.css']\r\n})\r\nexport class AgendaPlayComponent implements OnInit {\r\n  sse = '';\r\n  action = '';\r\n\r\n  afg: FormGroup = new FormGroup({\r\n    label: new FormControl(\r\n      '',\r\n      [\r\n        Validators.required,\r\n        Validators.pattern(/^.{1,25}$/),\r\n      ],\r\n    ),\r\n  });\r\n\r\n  dfg: FormGroup = new FormGroup({\r\n  });\r\n\r\n  constructor(\r\n    @Inject(MAT_BOTTOM_SHEET_DATA) public data: any,\r\n    private $authentication: AuthenticationService,\r\n    private $agenda: AgendaService,\r\n    private $snackBar: MatSnackBar,\r\n    private $bottomSheetRef: MatBottomSheetRef<AgendaPlayComponent>,\r\n    public config: ConfigService,\r\n  ) {\r\n    if (data.agenda == null) {\r\n      this.action = 'Add';\r\n\r\n      this.dfg = new FormGroup({\r\n      });\r\n    } else {\r\n      this.action = 'Update';\r\n\r\n      this.dfg = new FormGroup({\r\n        label: new FormControl(\r\n          '',\r\n          [\r\n            Validators.required,\r\n            Validators.pattern(data.agenda.label),\r\n          ],\r\n        ),\r\n      });\r\n\r\n      this.afg.patchValue({\r\n        ...this.data.agenda,\r\n      });\r\n    }\r\n\r\n    // ACL\r\n    const role = this.$authentication.user?.role;\r\n\r\n    if (role) {\r\n      if (\r\n        (this.config.role.rp == role.id) == false\r\n      ) {\r\n        this.afg.disable();\r\n        this.dfg.disable();\r\n      }\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  play(event: any): void {\r\n    event.preventDefault();\r\n\r\n    if (this.afg.valid) {\r\n      this.sse = '';\r\n      this.afg.disable();\r\n      switch (this.action) {\r\n        case 'Add':\r\n          this.$agenda.addAgenda(this.afg.value).subscribe(\r\n            () => {\r\n              this.afg.enable();\r\n              this.$snackBar.open(`Agenda added`, '', {\r\n                duration: 3000,\r\n              });\r\n              this.$bottomSheetRef.dismiss();\r\n            },\r\n            (error: HttpResponseModel) => {\r\n              this.afg.enable();\r\n              this.sse = error.message;\r\n            }\r\n          );\r\n          break;\r\n        case 'Update':\r\n          this.$agenda.updateAgenda(this.data.agenda.id, this.afg.value).subscribe(\r\n            () => {\r\n              this.afg.enable();\r\n              this.$snackBar.open(`Agenda updated`, '', {\r\n                duration: 3000,\r\n              });\r\n            },\r\n            (error: HttpResponseModel) => {\r\n              this.afg.enable();\r\n              this.sse = error.message;\r\n            }\r\n          );\r\n          break;\r\n      }\r\n    }\r\n  }\r\n\r\n  delete(event: any): void {\r\n    event.preventDefault();\r\n\r\n    if (this.dfg.valid) {\r\n      this.sse = '';\r\n      this.dfg.disable();\r\n      this.$agenda.deleteAgenda(this.data.agenda.id).subscribe(\r\n        () => {\r\n          this.dfg.enable();\r\n          this.$snackBar.open(`Agenda and associated information deleted`, '', {\r\n            duration: 3000,\r\n          });\r\n          this.$bottomSheetRef.dismiss();\r\n        },\r\n        (error: HttpResponseModel) => {\r\n          this.dfg.enable();\r\n          this.sse = error.message;\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  dismiss(event: MouseEvent): void {\r\n    this.$bottomSheetRef.dismiss();\r\n    event.preventDefault();\r\n  }\r\n}\r\n","<div class=\"container container-agendas\">\r\n    <form [formGroup]=\"afg\" (ngSubmit)=\"play($event)\">\r\n        <mat-card-header>\r\n            <mat-card-title>{{action}} Agenda</mat-card-title>\r\n            <mat-card-subtitle>Get low when the whistle go</mat-card-subtitle>\r\n\r\n            <div class=\"spacer\"></div>\r\n\r\n            <!-- X -->\r\n            <button mat-icon-button class=\"mat-elevation-z\" (click)=\"dismiss($event)\">\r\n                <img src=\"assets/images/x.svg\">\r\n            </button>\r\n        </mat-card-header>\r\n\r\n        <mat-card-content>\r\n            <div class=\"row\">\r\n                <div class=\"col-12\">\r\n                    <!-- Label -->\r\n                    <mat-form-field hintLabel=\"What it is called\" appearance=\"outline\" class=\"w-100\">\r\n                        <mat-label>Label</mat-label>\r\n                        <input type=\"text\" matInput maxlength=\"30\" placeholder=\"Main\" #label formControlName=\"label\">\r\n                        <mat-hint align=\"end\">{{label.value.length || 0}} / 30</mat-hint>\r\n                        <mat-error>Allowed a-Z, 0-9</mat-error>\r\n                    </mat-form-field>\r\n                </div>\r\n                <div class=\"col-12\">\r\n                    <div class=\"sse-container\">\r\n                        <p class=\"sse\" *ngIf=\"sse\">\r\n                            {{sse}}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </mat-card-content>\r\n\r\n        <mat-card-actions>\r\n            <button mat-flat-button color=\"primary\" class=\"w-100\" type=\"submit\"\r\n                [disabled]=\"afg.invalid || afg.disabled\">{{action}}</button>\r\n        </mat-card-actions>\r\n    </form>\r\n\r\n    <ng-container *ngIf=\"action == 'Update'\">\r\n        <form [formGroup]=\"dfg\" (ngSubmit)=\"delete($event)\">\r\n            <mat-card-header>\r\n                <mat-card-title>Delete Department</mat-card-title>\r\n                <mat-card-subtitle>This action is irreversible</mat-card-subtitle>\r\n            </mat-card-header>\r\n\r\n            <mat-card-content>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12 col-md-6\">\r\n                        <!-- Label -->\r\n                        <mat-form-field [hintLabel]=\"data.agenda.label\" appearance=\"outline\" class=\"w-100\">\r\n                            <mat-label>Label</mat-label>\r\n                            <input type=\"text\" matInput maxlength=\"30\" placeholder=\"Main\" #label\r\n                                formControlName=\"label\">\r\n                            <mat-hint align=\"end\">{{label.value.length || 0}} / 30</mat-hint>\r\n                            <mat-error>Provided and subject's label do not match</mat-error>\r\n                        </mat-form-field>\r\n                    </div>\r\n\r\n                    <div class=\"col-12 col-md-6\">\r\n                        <mat-error>\r\n                            Deleting a agenda will result into deleting of all the information associated with\r\n                            the agenda. This action cannot be undone. Provide the agenda's label to confirm your\r\n                            intention\r\n                        </mat-error>\r\n                    </div>\r\n\r\n                    <div class=\"col-12\">\r\n                        <div class=\"sse-container\">\r\n                            <p class=\"sse\" *ngIf=\"sse\">\r\n                                {{sse}}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </mat-card-content>\r\n\r\n            <mat-card-actions>\r\n                <button mat-flat-button color=\"warn\" class=\"w-100\" type=\"submit\"\r\n                    [disabled]=\"dfg.invalid || dfg.disabled\">\r\n                    Delete\r\n                </button>\r\n            </mat-card-actions>\r\n        </form>\r\n    </ng-container>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { HttpResponseModel } from '@models/http/response.model';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { ApiService } from '@services/api.service';\r\nimport { map } from 'rxjs/operators';\r\nimport { AgendaModel } from '@models/agenda.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class AgendaService {\r\n  $init = false;\r\n  $dirty: BehaviorSubject<boolean> = new BehaviorSubject<boolean>(false);\r\n  $agendas: BehaviorSubject<AgendaModel[]> = new BehaviorSubject<AgendaModel[]>([]);\r\n\r\n  constructor(private $api: ApiService) {\r\n    this.$dirty.subscribe(\r\n      (dirty: boolean) => {\r\n        if (dirty) {\r\n          this.$api.get('/agenda/all').subscribe(\r\n            (result: HttpResponseModel) => {\r\n              this.$dirty.next(false);\r\n\r\n              this.$agendas.next(\r\n                result.data.agendas\r\n              );\r\n            },\r\n            (error: HttpResponseModel) => {\r\n            }\r\n          );\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getAgendas(): Observable<AgendaModel[]> {\r\n    if (this.$init === false || (this.$agendas.getValue().length === 0 && this.$dirty.getValue() === false)) {\r\n      this.$init = true;\r\n\r\n      this.$dirty.next(true);\r\n    }\r\n\r\n    return this.$agendas;\r\n  }\r\n\r\n  addAgenda(agenda: any): Observable<HttpResponseModel> {\r\n    return this.$api.put('/agenda', {\r\n      agenda,\r\n    });\r\n  }\r\n\r\n  updateAgenda(id: number, agenda: any): Observable<HttpResponseModel> {\r\n    return this.$api.patch(`/agenda/${id}`, {\r\n      agenda,\r\n    });\r\n  }\r\n\r\n  deleteAgenda(id: number): Observable<HttpResponseModel> {\r\n    return this.$api.delete(`/agenda/${id}`);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AgendasComponent } from '@admin/agendas/agendas.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '', component: AgendasComponent\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AgendasRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}